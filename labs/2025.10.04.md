# 2025.10.04


## ``const``
```c
int main() {
  const int a = 5;
  int const b = 4;

  const int *p1 = &a;  // указатель на константу - сам указатель можно менять, а разыменованную переменную - нет
  int const *p2 = &a;  // звезда относится к имени переменной, поэтому можно менять местами int и const
  p1 = &b;             // можно
  *p1 = 3;             // нельзя

  int c = 15;
  const int *p2 = &c;  // undefined behaviour


  int *const p3 = &c;  // неизменяемый указатель, но переменную менять можно
  p3 = p1;             // нельзя
  *p3 = c;             // можно
  
  
  const int *const p3;  // константный указатель на константу
  int const *const p4;  // то же самое

  const int *const *const p5 = &p4;  // по

  return 0;
}
```

**Моя попытка реализовать `strstr()`**
```c
#include <stdio.h>


char *my_strstr(const char str[], const char substr[]) {
  if (str == NULL || substr == NULL) {
    return NULL;
  }

  if (*substr == '\0') {
    return (char *)str;
  }

  char *StartSubstr = NULL;
  char *pSubstr = substr;
  for (char *pStr = str; *pStr != '\0'; ++pStr) {
    if (StartSubstr) {
      if (*pStr == *pSubstr) {
        pSubstr++;
      } else if (*pSubstr == '\0') {
        return StartSubstr;
      } else {
        StartSubstr = NULL, pSubstr = substr;
      }
    } else if (*pStr == *pSubstr && StartSubstr == NULL) {
      StartSubstr = pStr, pSubstr++;
    } 
  }

  return StartSubstr;
}
```


## Указатели на функцию
```c
#include <stdio.h>
#include <math.h>

#define SIZE 2


int sign(int a) {
  if (a < 0) {
    return -1;
  }
  if (a == 0) {
    return 0;
  }
  if (a > 0) {
    return 1;
  }
}


int my_sqrt(int a) {
  return (int)sqrt(a);
}


int math1(int x, int (*func)(int)) {
  return func(x);
}


int main() {
  int x = 36;
  int result;

  int (*operations[SIZE])(int) = {sign, my_sqrt};

  for (size_t i = 0; i != SIZE; ++i) {
    result = math1(x, operations[i]);
    printf("%d\n", result);
  }

  return 0;
}
```
